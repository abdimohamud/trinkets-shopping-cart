{"ast":null,"code":"import _objectSpread from \"C:\\\\Users\\\\AB\\\\Desktop\\\\trinkets-shopping-cart\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"C:\\\\Users\\\\AB\\\\Desktop\\\\trinkets-shopping-cart\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\AB\\\\Desktop\\\\trinkets-shopping-cart\\\\src\\\\components\\\\UpdateForm.js\";\n\nimport React, { useState, useEffect } from \"react\";\nimport { useParams, useHistory } from \"react-router-dom\";\nimport axios from \"axios\";\nvar initialItem = {\n  name: \"\",\n  price: \"\",\n  imageUrl: \"\",\n  description: \"\",\n  shipping: \"\"\n};\n\nvar UpdateForm = function UpdateForm(props) {\n  var history = useHistory();\n\n  var _useParams = useParams(),\n      id = _useParams.id;\n\n  var _useState = useState(initialItem),\n      _useState2 = _slicedToArray(_useState, 2),\n      item = _useState2[0],\n      setItem = _useState2[1];\n\n  useEffect(function () {\n    axios.get(\"https://trinkets-shopping-list.herokuapp.com/itemById/\".concat(id)).then(function (res) {\n      return setItem(res.data);\n    }).catch(function (err) {\n      return console.error(\"bk: UpdateForm.js: itemById failed: err: \", err.message);\n    });\n  }, [id]);\n\n  var changeHandler = function changeHandler(ev) {\n    ev.persist();\n    var value = ev.target.value;\n\n    if (ev.target.name === \"price\") {\n      value = parseInt(value, 10);\n    }\n\n    setItem(_objectSpread(_objectSpread({}, item), {}, {\n      [ev.target.name]: value\n    }));\n  };\n\n  var handleSubmit = function handleSubmit(e) {\n    e.preventDefault(); // make a PUT request to edit the item\n\n    axios.put(\"https://trinkets-shopping-list.herokuapp.com/items/\".concat(id), item).then(function (res) {\n      props.setItems(res.data);\n      history.push(\"/item-list/\".concat(id));\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }\n  }, \"Update Item\"), /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"name\",\n    onChange: changeHandler,\n    placeholder: \"name\",\n    value: item.name,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"baseline\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"number\",\n    name: \"price\",\n    onChange: changeHandler,\n    placeholder: \"Price\",\n    value: item.price,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"baseline\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"string\",\n    name: \"imageUrl\",\n    onChange: changeHandler,\n    placeholder: \"Image\",\n    value: item.imageUrl,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"baseline\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"string\",\n    name: \"description\",\n    onChange: changeHandler,\n    placeholder: \"Description\",\n    value: item.description,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"baseline\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"string\",\n    name: \"shipping\",\n    onChange: changeHandler,\n    placeholder: \"Shipping\",\n    value: item.shipping,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"baseline\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"md-button form-button\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 9\n    }\n  }, \"Update\")));\n};\n\nexport default UpdateForm;","map":{"version":3,"sources":["C:/Users/AB/Desktop/trinkets-shopping-cart/src/components/UpdateForm.js"],"names":["React","useState","useEffect","useParams","useHistory","axios","initialItem","name","price","imageUrl","description","shipping","UpdateForm","props","history","id","item","setItem","get","then","res","data","catch","err","console","error","message","changeHandler","ev","persist","value","target","parseInt","handleSubmit","e","preventDefault","put","setItems","push"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useParams, useHistory } from \"react-router-dom\";\nimport axios from \"axios\";\n\nconst initialItem = {\n  name: \"\",\n  price: \"\",\n  imageUrl: \"\",\n  description: \"\",\n  shipping: \"\"\n};\n\nconst UpdateForm = (props) => {\n  const history = useHistory();\n  const { id } = useParams();\n  \n  const [item, setItem] = useState(initialItem);\n  useEffect(() => {\n    axios\n      .get(`https://trinkets-shopping-list.herokuapp.com/itemById/${id}`)\n      .then((res) => setItem(res.data))\n      .catch((err) =>\n        console.error(\"bk: UpdateForm.js: itemById failed: err: \", err.message)\n      );\n  }, [id]);\n\n  const changeHandler = (ev) => {\n    ev.persist();\n    let value = ev.target.value;\n    if (ev.target.name === \"price\") {\n      value = parseInt(value, 10);\n    }\n\n    setItem({\n      ...item,\n      [ev.target.name]: value\n    });\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    // make a PUT request to edit the item\n    axios.put(`https://trinkets-shopping-list.herokuapp.com/items/${id}`, item).then((res) => {\n      props.setItems(res.data);\n      history.push(`/item-list/${id}`);\n    });\n  };\n\n  return (\n    <div>\n      <h2>Update Item</h2>\n      <form onSubmit={handleSubmit}>\n        <input\n          type=\"text\"\n          name=\"name\"\n          onChange={changeHandler}\n          placeholder=\"name\"\n          value={item.name}\n        />\n        <div className=\"baseline\" />\n\n        <input\n          type=\"number\"\n          name=\"price\"\n          onChange={changeHandler}\n          placeholder=\"Price\"\n          value={item.price}\n        />\n        <div className=\"baseline\" />\n\n        <input\n          type=\"string\"\n          name=\"imageUrl\"\n          onChange={changeHandler}\n          placeholder=\"Image\"\n          value={item.imageUrl}\n        />\n        <div className=\"baseline\" />\n\n        <input\n          type=\"string\"\n          name=\"description\"\n          onChange={changeHandler}\n          placeholder=\"Description\"\n          value={item.description}\n        />\n        <div className=\"baseline\" />\n\n        <input\n          type=\"string\"\n          name=\"shipping\"\n          onChange={changeHandler}\n          placeholder=\"Shipping\"\n          value={item.shipping}\n        />\n        <div className=\"baseline\" />\n\n        <button className=\"md-button form-button\">Update</button>\n      </form>\n    </div>\n  );\n};\n\nexport default UpdateForm;\n"]},"metadata":{},"sourceType":"module"}