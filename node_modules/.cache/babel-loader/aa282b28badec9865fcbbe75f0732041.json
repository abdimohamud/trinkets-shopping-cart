{"ast":null,"code":"import _objectSpread from\"C:\\\\Users\\\\AB\\\\Desktop\\\\trinkets-shopping-cart\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:\\\\Users\\\\AB\\\\Desktop\\\\trinkets-shopping-cart\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{useParams,useHistory}from\"react-router-dom\";import axios from\"axios\";var initialItem={name:\"\",price:\"\",imageUrl:\"\",description:\"\",shipping:\"\"};var UpdateForm=function UpdateForm(props){var history=useHistory();var _useParams=useParams(),id=_useParams.id;var _useState=useState(initialItem),_useState2=_slicedToArray(_useState,2),item=_useState2[0],setItem=_useState2[1];useEffect(function(){axios.get(\"https://trinkets-shopping-list.herokuapp.com/itemById/\".concat(id)).then(function(res){return setItem(res.data);}).catch(function(err){return console.error(\"bk: UpdateForm.js: itemById failed: err: \",err.message);});},[id]);var changeHandler=function changeHandler(ev){ev.persist();var value=ev.target.value;if(ev.target.name===\"price\"){value=parseInt(value,10);}setItem(_objectSpread(_objectSpread({},item),{},{[ev.target.name]:value}));};var handleSubmit=function handleSubmit(e){e.preventDefault();// make a PUT request to edit the item\naxios.put(\"https://trinkets-shopping-list.herokuapp.com/items/\".concat(id),item).then(function(res){props.setItems(res.data);history.push(\"/item-list/\".concat(id));});};return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"h2\",null,\"Update Item\"),/*#__PURE__*/React.createElement(\"form\",{onSubmit:handleSubmit},/*#__PURE__*/React.createElement(\"input\",{type:\"text\",name:\"name\",onChange:changeHandler,placeholder:\"name\",value:item.name}),/*#__PURE__*/React.createElement(\"div\",{className:\"baseline\"}),/*#__PURE__*/React.createElement(\"input\",{type:\"number\",name:\"price\",onChange:changeHandler,placeholder:\"Price\",value:item.price}),/*#__PURE__*/React.createElement(\"div\",{className:\"baseline\"}),/*#__PURE__*/React.createElement(\"input\",{type:\"string\",name:\"imageUrl\",onChange:changeHandler,placeholder:\"Image\",value:item.imageUrl}),/*#__PURE__*/React.createElement(\"div\",{className:\"baseline\"}),/*#__PURE__*/React.createElement(\"input\",{type:\"string\",name:\"description\",onChange:changeHandler,placeholder:\"Description\",value:item.description}),/*#__PURE__*/React.createElement(\"div\",{className:\"baseline\"}),/*#__PURE__*/React.createElement(\"input\",{type:\"string\",name:\"shipping\",onChange:changeHandler,placeholder:\"Shipping\",value:item.shipping}),/*#__PURE__*/React.createElement(\"div\",{className:\"baseline\"}),/*#__PURE__*/React.createElement(\"button\",{className:\"md-button form-button\"},\"Update\")));};export default UpdateForm;","map":{"version":3,"sources":["C:/Users/AB/Desktop/trinkets-shopping-cart/src/components/UpdateForm.js"],"names":["React","useState","useEffect","useParams","useHistory","axios","initialItem","name","price","imageUrl","description","shipping","UpdateForm","props","history","id","item","setItem","get","then","res","data","catch","err","console","error","message","changeHandler","ev","persist","value","target","parseInt","handleSubmit","e","preventDefault","put","setItems","push"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useParams, useHistory } from \"react-router-dom\";\nimport axios from \"axios\";\n\nconst initialItem = {\n  name: \"\",\n  price: \"\",\n  imageUrl: \"\",\n  description: \"\",\n  shipping: \"\"\n};\n\nconst UpdateForm = (props) => {\n  const history = useHistory();\n  const { id } = useParams();\n  \n  const [item, setItem] = useState(initialItem);\n  useEffect(() => {\n    axios\n      .get(`https://trinkets-shopping-list.herokuapp.com/itemById/${id}`)\n      .then((res) => setItem(res.data))\n      .catch((err) =>\n        console.error(\"bk: UpdateForm.js: itemById failed: err: \", err.message)\n      );\n  }, [id]);\n\n  const changeHandler = (ev) => {\n    ev.persist();\n    let value = ev.target.value;\n    if (ev.target.name === \"price\") {\n      value = parseInt(value, 10);\n    }\n\n    setItem({\n      ...item,\n      [ev.target.name]: value\n    });\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    // make a PUT request to edit the item\n    axios.put(`https://trinkets-shopping-list.herokuapp.com/items/${id}`, item).then((res) => {\n      props.setItems(res.data);\n      history.push(`/item-list/${id}`);\n    });\n  };\n\n  return (\n    <div>\n      <h2>Update Item</h2>\n      <form onSubmit={handleSubmit}>\n        <input\n          type=\"text\"\n          name=\"name\"\n          onChange={changeHandler}\n          placeholder=\"name\"\n          value={item.name}\n        />\n        <div className=\"baseline\" />\n\n        <input\n          type=\"number\"\n          name=\"price\"\n          onChange={changeHandler}\n          placeholder=\"Price\"\n          value={item.price}\n        />\n        <div className=\"baseline\" />\n\n        <input\n          type=\"string\"\n          name=\"imageUrl\"\n          onChange={changeHandler}\n          placeholder=\"Image\"\n          value={item.imageUrl}\n        />\n        <div className=\"baseline\" />\n\n        <input\n          type=\"string\"\n          name=\"description\"\n          onChange={changeHandler}\n          placeholder=\"Description\"\n          value={item.description}\n        />\n        <div className=\"baseline\" />\n\n        <input\n          type=\"string\"\n          name=\"shipping\"\n          onChange={changeHandler}\n          placeholder=\"Shipping\"\n          value={item.shipping}\n        />\n        <div className=\"baseline\" />\n\n        <button className=\"md-button form-button\">Update</button>\n      </form>\n    </div>\n  );\n};\n\nexport default UpdateForm;\n"]},"metadata":{},"sourceType":"module"}